<md-card id="garbageCard" ng-controller="GarbageCtrl as garbage" ng-init="garbage.getData()">
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Garbage Monitor</span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content>
    <md-divider></md-divider>
    <md-list ng-repeat="garbageBag in garbage.bags">
      <md-list-item class="noright" layout="row" layout-xs="column" layout-padding="5">
        <p flex-gt-xs="45">
          <md-button class="md-raised"
                     ng-class="{'md-primary': garbageBag.status == 'ok'}"
                     ng-click="garbageBag.status='ok'; garbage.setStatus(garbageBag.id, 'ok')">ok</md-button>
          <md-button class="md-raised"
                     ng-class="{'md-warn': garbageBag.status == 'full'}"
                     ng-click="garbageBag.status='full'; garbage.setStatus(garbageBag.id, 'full')">full</md-button>
        </p>
        <div flex-gt-xs="35" layout-align="left">
          <h3>{{garbageBag.name | uppercase}}</h3>
          <p>(<i>Assigned to <b>{{garbageBag.responsible.name}}</b></i>)</p>
        </div>
        <!--TODO: warning if not full-->
        <!--TODO: and add warning if other id than assigned-->
        <md-button flex-gt-xs="20" class="md-raised"
                   ng-click="garbage.tryToEmptyTrash(garbageBag.id, garbageBag.name,garbageBag.responsible.id,
                                                     garbageBag.status, $event)">
          Empty Trash
        </md-button>
      </md-list-item>
      <md-divider></md-divider>
    </md-list>
  </md-card-content>
</md-card>
