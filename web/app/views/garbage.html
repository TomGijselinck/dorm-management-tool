<md-card id="garbageCard" ng-controller="GarbageCtrl as garbage" ng-init="garbage.getData()">
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Garbage Monitor</span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content>
    <md-divider></md-divider>
    <md-list ng-repeat="garbageBag in garbage.bags">
      <md-list-item class="noright" layout="row" layout-xs="column" layout-padding="5">
        <p flex-gt-xs="40">
          <md-button class="md-raised"
                     ng-class="{'md-primary': garbageBag.status == 'ok'}"
                     ng-click="garbageBag.status='ok'; garbage.setStatus(garbageBag.id, 'ok')">ok</md-button>
          <md-button class="md-raised"
                     ng-class="{'md-warn': garbageBag.status == 'full'}"
                     ng-click="garbageBag.status='full'; garbage.setStatus(garbageBag.id, 'full')">full</md-button>
        </p>
        <div flex layout-align="left">
          <span><b>{{garbageBag.name | uppercase}}</b> </span>
          <span>(<i>Assigned to <b>{{garbageBag.responsible.name}}</b></i>)</span>
        </div>
        <div flex layout="column" layout-align="center center">
          <md-button flex-gt-xs="25" class="md-raised"
                     ng-click="garbage.tryToEmptyTrash(garbageBag, $event)">
            Empty Trash
          </md-button>
          <p ng-if="garbageBag.responsible.id == garbage.user_id;">
            <a href="" ng-click="garbage.transferDuty(garbageBag)">Can't empty trash?</a>
          </p>
        </div>
      </md-list-item>
      <md-divider></md-divider>
    </md-list>
  </md-card-content>
</md-card>
